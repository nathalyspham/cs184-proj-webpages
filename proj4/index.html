<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<style>
  body {
    background-color: white;
    padding: 100px;
    width: 1000px;
    margin: auto;
    text-align: left;
    font-weight: 300;
    font-family: 'Open Sans', sans-serif;
    color: #121212;
  }
  h1, h2, h3, h4 {
    font-family: 'Source Sans Pro', sans-serif;
  }
  kbd {
    color: #121212;
  }
</style>
<title>CS 184 Cloth Sim</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link href="https://fonts.googleapis.com/css?family=Open+Sans|Source+Sans+Pro" rel="stylesheet">

<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    }
  };
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>

</head>


<body>

<h1 align="middle">CS 184: Computer Graphics and Imaging, Spring 2023</h1>
<h1 align="middle">Project 4: Cloth Sim</h1>
<h2 align="middle">YOUR NAME</h2>

<br><br>

<h2 align="middle">Please visit this link to see the videos: https://nathalyspham.github.io/cs184-proj-webpages/proj4/index.html</h2>

<div>

<h2 align="middle">Overview</h2>
<p>
    YOUR RESPONSE GOES HERE
</p>
<br>

<h3 align="middle">Part 1: Masses and Springs</h3>


<b>
  Explanation.
</b>
<p>
    YOUR RESPONSE GOES HERE
</p>
<br>


<b>
	Take some screenshots of scene/pinned2.json from a viewing angle where you can clearly see the cloth wireframe to show the structure of your point masses and springs.
</b>
<div align="middle">
	<table style="width:100%">
	  <tr align="center">
		<td>
		  <img src="images/Screenshot 2023-04-13 at 12.32.23 PM.png" align="middle" width="400px"/>
		</td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 12.29.55 PM.png" align="middle" width="400px"/>
		</td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 12.31.58 PM.png" align="middle" width="400px"/>
		</td>
	  </tr>
	</table>
  </div>
<br>

<b>
	Show us what the wireframe looks like (1) without any shearing constraints, (2) with only shearing constraints, and (3) with all constraints.
</b>

<!-- Example of including multiple figures -->
<div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/Screenshot 2023-04-13 at 12.31.15 PM.png" align="middle" width="400px"/>
        <figcaption>(1) without any shearing constraints</figcaption>
      </td>
      <td>
        <img src="images/Screenshot 2023-04-13 at 12.31.20 PM.png" align="middle" width="400px"/>
        <figcaption>(2) with only shearing constraints</figcaption>
      </td>
	  <td>
        <img src="images/Screenshot 2023-04-13 at 12.31.43 PM.png" align="middle" width="400px"/>
        <figcaption>(3) with all constraints</figcaption>
      </td>
    </tr>
  </table>
</div>
<br>


<h3 align="middle">Part 2: Simulation via Numerical Integration</h3>

<b>
	Explanation.
  </b>
  <p>
	  YOUR RESPONSE GOES HERE
  </p>
  <br>
  <tr align="center">
  <video controls="controls" align="middle" width="800" height="600" name="Video Name">
	<source src="images/Screen Recording 2023-04-13 at 12.41.15 PM.mov">
  </video>
  <figcaption>pinned2.json, original settings</figcaption>
  <br>
  </tr>

<b>
	Describe the effects of changing the spring constant ks.
</b>
<p>
    YOUR RESPONSE GOES HERE
</p>
<div align="middle">
	<table style="width:100%">
	  <tr align="center">
		<td>
		  <img src="images/Screenshot 2023-04-13 at 7.10.44 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 12.41.37 PM.mov">
		  </video>
		  <figcaption>ks = 500 N/m</figcaption>
		</td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 7.10.33 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 12.41.15 PM.mov">
		  </video>
		  <figcaption>ks = 5000 N/m (original)</figcaption>
		</td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 7.11.01 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 12.40.56 PM.mov">
		  </video>
		  <figcaption>ks = 50000 N/m</figcaption>
		</td>
	  </tr>
	</table>
  </div>
<br>


<b>
	Describe the effects of changing the density.
</b>
<p>
    YOUR RESPONSE GOES HERE
</p>
<div align="middle">
	<table style="width:100%">
	  <tr align="center">
		<td>
		  <img src="images/Screenshot 2023-04-13 at 7.42.27 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/low_density.mov">
		  </video>
		  <figcaption>density = 1 g/cm^2</figcaption>
		</td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 7.10.33 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 12.41.15 PM.mov">
		  </video>
		  <figcaption>density = 15 g/cm^2 (original)</figcaption>
		</td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 8.13.12 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 8.12.13 PM.mov">
		  </video>
		  <figcaption>density = 100 g/cm^2</figcaption>
		</td>
	  </tr>
	</table>
  </div>
<br>

<b>
	Describe the effects of changing damping.
</b>
<p>
    YOUR RESPONSE GOES HERE
</p>
<div align="middle">
	<table style="width:100%">
	  <tr align="center">
		<td>
		  <img src="images/Screenshot 2023-04-13 at 7.46.19 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 12.44.46 PM.mov">
		  </video>
		  <figcaption>damping = 0.0%</figcaption>
		</td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 7.10.33 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 12.41.15 PM.mov">
		  </video>
		  <figcaption>damping = 0.2%</figcaption>
		</td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 7.46.49 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 12.45.50 PM.mov">
		  </video>
		  <figcaption>damping = 1.0%</figcaption>
		</td>
	  </tr>
	</table>
  </div>
<br>

<b>
	Show us a screenshot of your shaded cloth from scene/pinned4.json in its final resting state.
</b>

<div align="middle">
	<table style="width:100%">
	  <tr align="center">
		<td>
	  <img src="images/Screenshot 2023-04-13 at 8.23.41 PM.png" align="middle" width="400px"/>
	  <video controls="controls" align="middle" width="400px" name="Video Name">
		<source src="images/Screen Recording 2023-04-13 at 12.47.55 PM.mov">
	  </video>
	  <figcaption>pinned 4, original settings</figcaption>
	</td>
</tr>
</table>
</div>
  <br>

<h3 align="middle">Part 3: Handling Collisions with Other Objects</h3>

<b>
	Explanation.
  </b>
  <p>
	  YOUR RESPONSE GOES HERE
  </p>
  <br>

<b>

<b>
	Show us screenshots of your shaded cloth from scene/sphere.json in its final resting state on the sphere.
</b>

<p>
    YOUR RESPONSE GOES HERE
</p>

<div align="middle">
	<table style="width:100%">
	  <tr align="center">
		<td>
		  <img src="images/Screenshot 2023-04-13 at 8.29.02 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 12.50.28 PM.mov">
		  </video>
		  <figcaption>ks = 500 N/m</figcaption>
		</td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 8.28.26 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 12.50.01 PM.mov">
		  </video>
		  <figcaption>ks = 5000 N/m (original)</figcaption>
		</td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 8.29.16 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 12.50.48 PM.mov">
		  </video>
		  <figcaption>ks = 50000 N/m</figcaption>
		</td>
	  </tr>
	</table>
  </div>
<br>


<b>
	Show us a screenshot of your shaded cloth lying peacefully at rest on the plane.
</b>
<div align="middle">
	<img src="images/Screenshot 2023-04-13 at 12.52.59 PM.png" align="middle" width="50%">
  </div>
<br>


<h3 align="middle">Part 4: Handling Self-collisions</h3>
<b>
	Explanation.
  </b>
  <p>
	  YOUR RESPONSE GOES HERE
  </p>
  <br>

<b>
	Show us at least 3 screenshots that document how your cloth falls and folds on itself, starting with an early, initial self-collision and ending with the cloth at a more restful state.
</b>
<b>
	<tr align="center">
		<video controls="controls" align="middle" width="800" height="600" name="Video Name">
		  <source src="images/Screen Recording 2023-04-13 at 12.54.07 PM.mov">
		</video>
		<figcaption>selfCollision.json</figcaption>
		<br>
		</tr>
</b>
<div align="middle">
	<table style="width:100%">
	  <tr align="center">
		<td>
		  <img src="images/Screenshot 2023-04-13 at 12.58.07 PM.png" align="middle" width="400px"/>
		</td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 12.58.15 PM.png" align="middle" width="400px"/>
		  <figcaption>cloth falling pictures, original settings</figcaption>
		</td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 12.59.06 PM.png" align="middle" width="400px"/>
		</td>
	  </tr>
	</table>
  </div>
<br>


<b>
	Vary the density and describe with words and screenshots how they affect the behavior of the cloth as it falls on itself.
</b>
<p>
    YOUR RESPONSE GOES HERE
</p>
<div align="middle">
	<table style="width:100%">
	  <tr align="center">
		<td>
		  <img src="images/Screenshot 2023-04-13 at 8.46.54 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 1.01.47 PM.mov">
		  </video>
		  <figcaption>density = 1 g/cm^2</figcaption>
		</td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 8.48.44 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 12.54.07 PM.mov">
		  </video>
		  <figcaption>density = 15 g/cm^2 (original)</figcaption>
		</td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 8.47.32 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 1.02.33 PM.mov">
		  </video>
		  <figcaption>density = 50 g/cm^2</figcaption>
		</td>
	  </tr>
	</table>
  </div>
<br>


<b>
    Vary the ks and describe with words and screenshots how they affect the behavior of the cloth as it falls on itself
</b>
<p>
    YOUR RESPONSE GOES HERE
</p>
<div align="middle">
	<table style="width:100%">
	  <tr align="center">
		<td>
		  <img src="images/Screenshot 2023-04-13 at 8.53.09 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 1.03.24 PM.mov">
		  </video>
		  <figcaption>ks = 500 N/m</figcaption>
		</td>
		<td>
			<img src="images/Screenshot 2023-04-13 at 8.48.44 PM.png" align="middle" width="400px"/>
			<video controls="controls" align="middle" width="400px" name="Video Name">
			  <source src="images/Screen Recording 2023-04-13 at 12.54.07 PM.mov">
			</video>
			<figcaption>ks = 5000 N/m (original)</figcaption>
		  </td>
		<td>
		  <img src="images/Screenshot 2023-04-13 at 8.53.43 PM.png" align="middle" width="400px"/>
		  <video controls="controls" align="middle" width="400px" name="Video Name">
			<source src="images/Screen Recording 2023-04-13 at 1.03.54 PM.mov">
		  </video>
		  <figcaption>ks = 50000 N/m</figcaption>
		</td>
	  </tr>
	</table>
  </div>
<br>


<h3 align="middle">Part 5: Shaders</h3>
<b>
	Explanation.
  </b>
  <p>
	  
  </p>
  <br>

  <b>
	Explain in your own words what is a shader program and how vertex and fragment shaders work together to create lighting and material effects.
  </b>
  <p>
	Shader programs run in parallel on the GPU and they carry out parts of the graphics pipeline, generally outputting 4 dimensional vectors. We worked with type types of OpenGL shader types in this project. The first one is vertex shaders. Those shaders modify vertices and their geometric properties like position and normal vectors,and an example of this shader is Displacement Shading. The other type is fragment shaders, which process fragments to modify colors for shading, and an example of this is Blinn-Phong Shading. In this project, the output of our vertex shader is the input to the fragment shader. 
  </p>
  <br>

  <b>
	Explain the Blinn-Phong shading model in your own words.
  </b>
  <p>
	 The Blinn-Plong shading takes into the account the combined effect of ambient light, specular light and diffused light to create realistic light shading for a scene. I implemented it closely following the equation given in the spec, calculating each componenet of the lighting then summing them and setting the color to this sum. 
  </p>
  <br>

  <b>
	Show screenshots of your Blinn-Phong shaders.
  </b>
  <p>
	The values I used for the parameters were: ka=0.1, kd = 0.8, ks = 0.5, Ia=vec3(1,1,1),and p = 40. This seemed to create a similar visual effect as in the Spec. 
</p>

  <div align="middle">
	<table style="width:100%">
	  <tr align="center">
		<td>
		  <img src="images/ambient.png" align="middle" width="200px"/>
		  <figcaption>ambient component</figcaption>
		</td>
		<td>
		  <img src="images/diffuse.png" align="middle" width="200px"/>
		  <figcaption>diffuse component</figcaption>
		</td>
		<td>
		  <img src="images/specular.png" align="middle" width="200px"/>
		  <figcaption>specular component</figcaption>
		</td>
		<td>
			<img src="images/phong.png" align="middle" width="200px"/>
			<figcaption>entire Blinn-Phong model</figcaption>
		  </td>
	  </tr>
	</table>
  </div>
  <br>

  <b>
	Show a screenshot of your texture mapping shader using your own custom texture by modifying the textures in /textures/.
  </b>
  <p>
	I implemented this shader by sampling in the with the texture function, with the texture I want and v_uv as an input. The texture I used was an image I took when I went skiing last winter break. 
</p>

<div align="middle">
	<table style="width:100%">
	  <tr align="center">
		<td>
		  <img src="images/texture1.png" align="middle" width="400px"/>
		  <figcaption>Cloth and Sphere</figcaption>
		</td>
		<td>
		  <img src="images/texture2.png" align="middle" width="400px"/>
		  <figcaption>Cloth on Sphere</figcaption>
		</td>
	  </tr>
	</table>
</div>

  <br>

  <b>
	Show a screenshots of bump mapping and displacement mapping. Compare the two approaches and resulting renders in your own words.
	</b>
	<p>
	This part was quite challenging to implement, but I was able to achieve it by following most of the equations on the Spec. For bump mapping, I first calculated the matrix TBN with b as the cross product of the normal and tangent vectors. Then, I calcualted dU and dV closely following the equations. And used them to finally find n0 and nd, setting nd as the "l" in the Blinn-Phong input, then shading following the Blinn-Phong shader. For the displacement shading, we used the same .frag file as in bump shading, but we had to change the Displacement.vert file to change the properties of the vertices. In particular, we changed v_position following the equation in the spec to reflect the height map in the shading. It may be seen that with bump mapping, it creates the visual effect of a 3d pattern on the cloth, and with dispalcement mapping, there is even more clumps around the folds of the cloth showing the height in the texture. 
	</p>

	<div align="middle">
		<table style="width:100%">
		  <tr align="center">
			<td>
			  <img src="images/bump_128.png" align="middle" width="400px"/>
			  <figcaption>bump mapping on cloth and sphere</figcaption>
			</td>
			<td>
			  <img src="images/b_128.png" align="middle" width="400px"/>
			  <figcaption>bump mapping for cloth on sphere</figcaption>
			</td>
			</tr>
			<tr align="center">
				<td>
				  <img src="images/displacement_128.png" align="middle" width="400px"/>
				  <figcaption>displacement mapping on cloth and sphere</figcaption>
				</td>
				<td>
				  <img src="images/d_128.png" align="middle" width="400px"/>
				  <figcaption>displacement mapping for cloth on sphere</figcaption>
				</td>
			</table>
			</div>
			<p>
				Then, I compared the shading on the sphere for different levels of coarseness. With 128, the image looks a lot more realistic with smoother edges than the one with 16. 
			</p>


			<div align="middle">
				<table style="width:100%">
				  <tr align="center">
					<td>
					  <img src="images/b_16.png" align="middle" width="400px"/>
					  <figcaption>coarseness 16 bump mapping</figcaption>
					</td>
					<td>
					  <img src="images/d_16.png" align="middle" width="400px"/>
					  <figcaption>coarseness 16 displacement mapping</figcaption>
					</td>
					</tr>
					<tr align="center">
						<td>
						  <img src="images/b_128_1.png" align="middle" width="400px"/>
						  <figcaption>coarseness 128 bump mapping</figcaption>
						</td>
						<td>
						  <img src="images/d_128.2.png" align="middle" width="400px"/>
						  <figcaption>coarseness 128 displacement mapping</figcaption>
						</td>
					</table>
					</div>
<br>

<b>
	Show a screenshot of your mirror shader on the cloth and on the sphere.
</b>
<p>

</p>
<div align="middle">
	<table style="width:100%">
	  <tr align="center">
		<td>
		  <img src="images/mirror1.png" align="middle" width="400px"/>
		  <figcaption>mirror on falling cloth</figcaption>
		</td>
		<td>
		  <img src="images/mirror2.png" align="middle" width="400px"/>
		  <figcaption>mirror shader cloth on sphere</figcaption>
		</td>
		</tr>
		</table>
		</div>
		<br>

		<b>
			Extra credit
		</b>
			<p>
				We implemented the effect of wind as our extra credit. In the simulate function for cloth.cpp, we added another externel force for the wind with a wind of speed 0.2 "blowing" towards the right. Its effect is added as a vector on the totalExternelField variable. The effect of adding this force on our simualtion is shown in the video below. 
			</p>
			<br>
			<tr align="center">
			<video controls="controls" align="middle" width="800" height="600" name="Video Name">
			  <source src="images/cloth_edit.mp4">
			</video>
			<figcaption>simulation of cloth falling on to sphere with a wind blowing towards the right</figcaption>
			<br>
		
			
			<h2 align="middle">Write-up Link: https://nathalyspham.github.io/cs184-proj-webpages/proj4/index.html</h2>

</body>
</html>