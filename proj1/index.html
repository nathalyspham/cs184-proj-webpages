<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<style>
  body {
    padding: 100px;
    width: 1000px;
    margin: auto;
    text-align: left;
    font-weight: 300;
    font-family: 'Open Sans', sans-serif;
    color: #121212;
  }
  h1, h2, h3, h4 {
    font-family: 'Source Sans Pro', sans-serif;
  }
</style>
<title>CS 184 Rasterizer</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link href="https://fonts.googleapis.com/css?family=Open+Sans|Source+Sans+Pro" rel="stylesheet">
</head>


<body>

<h1 align="middle">CS 184: Computer Graphics and Imaging, Spring 2018</h1>
<h1 align="middle">Project 1: Rasterizer</h1>
<h2 align="middle">Kehan Li and Nathalys Pham, CS184</h2>

<br><br>

<div>

<h2 align="middle">Overview</h2>
<p>Give a high-level overview of what you implemented in this project. Think about what you've built as a whole. Share your thoughts on what interesting things you've learned from completing the project.</p>

<h2 align="middle">Section I: Rasterization</h2>

<h3 align="middle">Part 1: Rasterizing single-color triangles</h3>

<!-- <p>Here is an example 2x2 gridlike structure using an HTML table. Each <b>tr</b> is a row and each <b>td</b> is a column in that row. You might find this useful for framing and showing your result images in an organized fashion.</p>

<div align="middle">
  <table style="width=100%">
    <tr>
      <td>
        <img src="images/image1.png" align="middle" width="400px"/>
        <figcaption align="middle">Caption goes here.</figcaption>
      </td>
      <td>
        <img src="images/image2.png" align="middle" width="400px"/>
        <figcaption align="middle">Caption goes here.</figcaption>
      </td>
    </tr>
    <br>
    <tr>
      <td>
        <img src="images/image3.png" align="middle" width="400px"/>
        <figcaption align="middle">Caption goes here.</figcaption>
      </td>
      <td>
        <img src="images/image4.png" align="middle" width="400px"/>
        <figcaption align="middle">Caption goes here.</figcaption>
      </td>
    </tr>
  </table>
</div> -->

<p>In task 1, we implemented a simple rasterization function that sampled at the center of each pixel. If the center of the pixel was within the triangle formed by the 3 given coordinates, we filled that pixel with the given color. Instead of checking
   every coordinate, we know that a point inside the triangle cannot have an x/y bigger than the biggest or smaller than the smallest Xi/Yi of a triangle vertex. So we can iterate from min(Xi) to max(Xi) and from min(Yi) to max(Yi), and we only check 
   within the bounding box of the triangle, which is more efficient than checking every pixel in the buffer. To figure out whether a pixel was within the triangle, we used the Point-in-Triangle: Three Line Tests as defined in lecture. This test uses a
    line equation, computed for each triangle side: Li ( x, y ) = -( x - Xi ) * ( Y(i+1) - Yi ) + ( y - Yi ) * ( X(i+1) - Xi ). And if Li is >= 0, the point is either on the line or inside the line. Naturally, if ( x, y ) is inside of all three lines (L0, L1, L2 >= 0)
     then ( x, y ) must be inside the triangle. Something we failed to understand at first was the case in which ( x, y ) is outside of all of the lines (L0, L1, L2 < 0), which is seemingly impossible. If this is the case, our triangle is “rotated” the wrong
      way since we subtracted the Xi and Yi counterclockwise, and the point must still be inside the triangle.
</p>

<p>Results after Task 1</p>
<img src="./images/screenshot_2-14_12-10-2.png" align="middle" width="400px"/>
<img src="./images/screenshot_2-14_12-21-15.png" align="middle" width="400px"/>
<img src="./images/screenshot_2-14_12-22-57.png" align="middle" width="400px"/>
<img src="./images/screenshot_2-14_12-29-13.png" align="middle" width="400px"/>

<h3 align="middle">Part 2: Antialiasing triangles</h3>

<p>Our images have aliasing after task 1, so in task 2, we use supersampling in order to get rid of jaggies. Our logic starts off similar to task 1, but we add the idea of averaging the colors inside of a pixel instead of just strictly taking or not taking
   a certain color for the entire pixel. This will prevent our image from having harsh blocks that make up the jaggies. Given a sample rate s, our algorithm divides each pixel into s subpixels and then we make the sample buffer the length of the frame buffer
    * s and then fill it with every subpixel sample. It is like we are rasterizing a higher resolution image, and we use the sample buffer to store this image. Then, in order to downsample this image into the dimensions of the framebuffer, we average out the
     colors of the s subpixels into a single pixel, like how they were originally, when we resolve to framebuffer. To average out the colors, we used the Color class to add all the subpixels’ reds, greens, and blues individually together and and then divide
      each by s. We then encountered a problem where the rectangular borders around our images became blurry as the sample rate went up, and to solve this, we created separate fill_pixel methods for points and lines versus triangles.
</p>

<p>Results after Task 2</p>

<div align="middle">
  <table style="width=100%">
    <tr>
      <td>
        <img src="./images/screenshot_2-14_12-12-30.png" align="middle" width="400px"/>
        <figcaption align="middle">supersample rate 1 per pixel</figcaption>
      </td>
      <td>
        <img src="./images/screenshot_2-14_12-12-33.png" align="middle" width="400px"/>
        <figcaption align="middle">supersample rate 4 per pixel</figcaption>
      </td>
    </tr>
    <br>
    <tr>
      <td>
        <img src="./images/screenshot_2-14_12-12-35.png" align="middle" width="400px"/>
        <figcaption align="middle">supersample rate 9 per pixel</figcaption>
      </td>
      <td>
        <img src="./images/screenshot_2-14_12-12-37.png" align="middle" width="400px"/>
        <figcaption align="middle">supersample rate 16 per pixel</figcaption>
      </td>
    </tr>
  </table>
</div>

<div align="middle">
  <table style="width=100%">
    <tr>
      <td>
        <img src="./images/screenshot_2-14_16-27-42.png" align="middle" width="400px"/>
        <figcaption align="middle">supersample rate 1 per pixel</figcaption>
      </td>
      <td>
        <img src="./images/screenshot_2-14_16-27-46.png" align="middle" width="400px"/>
        <figcaption align="middle">supersample rate 4 per pixel</figcaption>
      </td>
    </tr>
    <br>
    <tr>
      <td>
        <img src="./images/screenshot_2-14_16-27-48.png" align="middle" width="400px"/>
        <figcaption align="middle">supersample rate 9 per pixel</figcaption>
      </td>
      <td>
        <img src="./images/screenshot_2-14_16-27-53.png" align="middle" width="400px"/>
        <figcaption align="middle">supersample rate 16 per pixel</figcaption>
      </td>
    </tr>
  </table>
</div>

<h3 align="middle">Part 3: Transforms</h3>

<p>
  We got these matrices by following the logic of matrix transformations on vectors in lecture 4. In our updated cuberman, we made him dabbing. We did this by rotating and transforming the arms, legs, and body. Our goal was to make the right arm look like it
   was bent at the elbow and the left arm diagonal upwards. We also made the head and body bent towards the bent arm and the knees bent to look more natural.
</p>

<div align="middle">
  <table style="width=100%">
    <tr>
      <td>
        <img src="./images/screenshot_2-14_16-47-34.png" align="middle" width="400px"/>
        <figcaption align="middle">original cuberman</figcaption>
      </td>
      <td>
        <img src="./images/screenshot_2-14_12-14-56.png" align="middle" width="400px"/>
        <figcaption align="middle">updated/fun cuberman</figcaption>
      </td>
    </tr>

<h2 align="middle">Section II: Sampling</h2>

<h3 align="middle">Part 4: Barycentric coordinates</h3>


<h3 align="middle">Part 5: "Pixel sampling" for texture mapping</h3>


<h3 align="middle">Part 6: "Level sampling" with mipmaps for texture mapping</h3>



<h2 align="middle">Section III: Art Competition</h2>
<p>If you are not participating in the optional art competition, don't worry about this section!</p>

<h3 align="middle">Part 7: Draw something interesting!</h3>

</body>
</html>
